<!--
  Generated template for the HistoryFaultPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-content>
    <div class="header-title">
        <div class="back" (click)="back()"><img src="assets/imgs/back.svg" alt=""></div>
        <p>历史故障列表</p>
        <label style="color:white;font-size: 20px;margin-top: 16px;margin-left: 95px;">开始日期选择：</label><input  type="date"  [(ngModel)]="start" (ngModelChange)="startChanged()" class="time-input"/>
        <label style="color:white;margin-left: 63px;font-size: 20px;margin-top: 16px">结束日期选择：</label><input id="EDate" type="date" [(ngModel)]="end" (ngModelChange)="endChanged()"  class="time-input"/>
        <input  type="button"   class="time-input" value="查询" style="margin-left: 63px; width: 8%;" (click)="query()"/>
      </div>
<ion-grid>
    <ion-row text-center>
      <ion-col col-2 style="color:#FFFFFF;margin-left: 16px">配电室</ion-col>
      <ion-col col-2 style="color:#FFFFFF">设备名称</ion-col>
      <ion-col col-2 style="color:#FFFFFF"> 设备编号</ion-col>
      <ion-col col-2 style="color:#FFFFFF">报警内容</ion-col>
      <ion-col col-2 style="color:#FFFFFF">报警时间</ion-col>
      <ion-col col-1 style="color:#FFFFFF">故障状态</ion-col>
    </ion-row>

    <ion-row text-center class="content-bg" *ngFor="let item of faultList" >
      <img  *ngIf="item.Treturntime==null"  src="../../assets/imgs/dot-alarm.svg">
      <img  *ngIf="item.Treturntime!=null"src="../../assets/imgs/dot-normal.svg">
      <ion-col col-2 style="color:#FFFFFF">{{item.RoomName}}</ion-col>
      <ion-col col-2 style="color:#FFFFFF">{{item.EquipmentName}}</ion-col>
      <ion-col col-2 style="color:#FFFFFF">{{item.DataId}}</ion-col>
      <ion-col col-2 style="color:#FFFFFF">{{item.Talarminformation}}</ion-col>
      <ion-col col-2 *ngIf="item.Treturntime!=null" style="color:#FFFFFF">{{item.Treturntime}}</ion-col>
      <ion-col col-2 *ngIf="item.Treturntime==null" style="color:#FFFFFF">{{item.Tactivetime}}</ion-col>
      <ion-col col-1 *ngIf="item.Treturntime!=null" style="color:#FFFFFF">已恢复</ion-col>
      <ion-col col-1 *ngIf="item.Treturntime==null" style="color:#FF4760">故障中</ion-col>
    </ion-row>

  </ion-grid>
</ion-content>